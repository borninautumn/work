<link rel="stylesheet" as="style" crossorigin href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/variable/pretendardvariable.min.css" />
<style>
    /* reset css */
    .brand__container { margin: 0; padding: 0; position: relative; font-size: 16px; font-family: 'Pretendard Variable', Pretendard, sans-serif; overflow: hidden; }
    .brand__container a { display: block; cursor: pointer; text-decoration: none; }
    .brand__container ul,
    .brand__container ol,
    .brand__container li { list-style: none; margin: 0; padding: 0; }
    .brand__container img { width: 100%; }

    /* custom */
    .brand__container .panel { width: 100%; height: 100%; position: relative; }
    
    
    .panel.three { background-color: aquamarine; }
    .panel.four { background-color: bisque; }
    .panel.five { background-color: blueviolet; }
    .panel.six { background-color: tomato;}

    /* 01 section */
    .brand__container .panel.one { background-color: #dcdbe9; }
    .brand__container .panel.one .logo,
    .brand__container .panel.one .text__wrap,
    .brand__container .panel.one .text__infomation { position: absolute; left: 10.42%; }
    .brand__container .panel.one .logo { width: 12.81%; top: 10.86%; }
    .brand__container .panel.one .text__wrap { top: 25.14%; line-height: 1em; }
    .brand__container .panel.one .text__wrap p { font-size: 4.1252em; font-weight: 200; }
    .brand__container .panel.one .text__wrap p:nth-child(1) { animation: fadeUp 0.8s ease-in; }
    .brand__container .panel.one .text__wrap p:nth-child(2) { font-weight: 600; animation: fadeUp 1s ease-in; }
    .brand__container .panel.one .text__infomation { top: 50.23%; } 
    .brand__container .panel.one .text__infomation p { font-size: 1.625em; font-weight: 200; animation: fadeUp 1.2s ease-in; }
    .brand__container .panel.one #typing1 { position: absolute; top: 73.06%; left: 24.15%; color: #512771; font-size: 4.1252em; }
    .brand__container .panel.one span.highlight { color: white; }
    .brand__container .panel.one .img__box { float: right; animation: fadeRight 0.6s alternate;}

    @keyframes fadeUp {
        0% { transform: translateY(40px); opacity: 0; }
        100% { transform: translateY(0); opacity: 1; }
    }
    @keyframes fadeRight {
        0% { transform: translateX(calc(100%)); opacity: 0; }
        100% { transform: translateX(0); opacity: 1; }
    }

    /* 02 section */
    .brand__container .panel.two { background-color: #512771; }
</style>

<main class="brand__container">
    <section class="panel one">
        <div class="img__box">
            <img src="//jstyle07.jpg3.kr/SITE/EVENT/2025/brand_story/01_section_img.jpg" class="background">
        </div>
        <div class="logo">
            <img src="//jstyle07.jpg3.kr/SITE/EVENT/2025/brand_story/00_logo.png" alt="logo__evellet" />
        </div>
        <div class="text__wrap">
            <p>누구보다 나다운 순간,</p>
            <p>이블렛이 함께합니다.</p>
        </div>
        <div class="text__infomation">
            <p>
                <strong>이블렛</strong>은 개개인의 고유한 아름다움을 존중하며,<br />
                여성들이 자신만의 아이덴티티를 표현할 수 있도록 돕는<br />
                컨템포러리 브랜드입니다.
            </p>
        </div>
        <p id="typing1"></p>
    </section>
    <section class="panel two">
        <p id="typing2"></p>
    </section>
    <section class="panel three"></section>
    <section class="panel four"></section>
    <section class="panel five"></section>
    <section class="panel six"></section>
</main>


<script src="//cdnjs.cloudflare.com/ajax/libs/ScrollMagic/2.0.7/ScrollMagic.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/ScrollMagic/2.0.7/plugins/debug.addIndicators.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/gsap/2.1.3/TweenMax.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/ScrollMagic/2.0.5/plugins/animation.gsap.js"></script>
<script>
    function init() {
        ScrollMagicFunc();
        typeWriterFunc();
    }

    function ScrollMagicFunc() {
        var controller = new ScrollMagic.Controller({
            globalSceneOptions: {
                triggerHook: 'onLeave',
                duration: "100%"
            }
        });
        var slides = document.querySelectorAll("section.panel");

        for (var i = 0; i < slides.length; i++) {
            var scene = new ScrollMagic.Scene({
                triggerElement: slides[i]
            })
                .setPin(slides[i], { pushFollowers: false })
                .addIndicators() // triger, start, end 보이게 처리 -> 주석처리하면 안보임
                .addTo(controller);
        }
    }
    function typeWriterFunc() {
        const text1 = 'I LOVE MY SELF, NOW';
        let index = 0;
        let speed = 100;
        const typingElement1 = document.querySelector('#typing1');

        function typeWriter() {
            if (index < text1.length) {
                if (text1[index] === 'N' && text1.substring(index, index + 3) === 'NOW') {
                    // If we reach "NOW", handle each character individually
                    const nowSpan = document.createElement('span');
                    nowSpan.className = 'highlight';
                    typingElement1.appendChild(nowSpan);

                    function typeNow() {
                        if (nowSpan.textContent.length < 3) {
                            nowSpan.textContent += text1[index];
                            index++;
                            setTimeout(typeNow, speed); // Add each character of "NOW" one at a time
                        } else {
                            typeWriter(); // Continue with the rest of the text after "NOW"
                        }
                    }
                    typeNow();
                } else {
                    // Add regular characters
                    typingElement1.textContent += text1[index];
                    index++;
                    setTimeout(typeWriter, speed);
                }
            }
        }

        typeWriter();
    }


    init();
</script>
